<launch>
  <arg name="robot" default="0" doc="used to identify the remote machine address. 0 if its the local host
    A number X other than zero indicates TurtlebotX as the remote host"/>
  <machine name="turtlebot" address="localhost" if="$(eval robot == 0)" />
  <machine name="turtlebot" address="turtlebot$(arg robot)" env-loader="/home/student/senthil_install/env.sh" user="student"
  if="$(eval robot != 0)"/>

  <param name="robot_description" command="xacro '$(find nuturtle_description)/urdf/diff_drive.urdf.xacro'"/>
  <node machine="turtlebot" pkg="rosserial_python" type="serial_node.py" name="serial_node">
    <param name="port" value="/dev/ttyACM0"/>
    <param name="baud" value="115200"/>
  </node>
  <node machine="turtlebot" pkg="nuturtle_robot" type="nuturtle_robot_turtle_interface_node" name="turtle_interface"/>
  <node machine="turtlebot" pkg="nuturtle_robot" type="nuturtle_robot_rotation" name="rotation"/>
  <node machine="turtlebot" pkg="rigid2d" type="rigid2d_odometry_node"  name="rigid2d" />
  <node machine="turtlebot" pkg="rigid2d" type="rigid2d_fake_encoders" name="fake_encoders"/>
  <node machine="turtlebot" pkg="rigid2d" type="rigid2d_odometry_node"  name="fake_odometry" ns="fake"/>
  <node pkg="tf2_ros" type="static_transform_publisher" name="fake_odom_broadcaster" args="0 0 0 0 0 0 1 odom fake_odom" />
</launch>
